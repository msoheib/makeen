# 13-1 Install and Configure Safe Area Dependencies

[Back to task list](mdc:tasks.md)

## Description

Install the necessary dependencies for safe area handling and configure the SafeAreaProvider at the app root level to enable safe area detection across the entire application.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2025-01-27 10:15:00 | Created | N/A | Proposed | Task created for safe area dependencies setup | AI_Agent |
| 2025-01-27 10:22:00 | Status Change | Proposed | Agreed | Task approved by user - proceeding with implementation | AI_Agent |
| 2025-01-27 10:23:00 | Status Change | Agreed | InProgress | Started safe area dependencies installation | AI_Agent |

## Requirements

1. **Install react-native-safe-area-context**
   - This provides the SafeAreaProvider and useSafeAreaInsets hook
   - Essential for detecting device safe areas (notches, cameras, etc.)

2. **Configure SafeAreaProvider**
   - Wrap the main app component with SafeAreaProvider
   - Ensure it's at the root level to provide context to all children

3. **Verify expo-status-bar availability**
   - Check if expo-status-bar is already installed (should be in Expo managed workflow)
   - Prepare for status bar configuration in subsequent tasks

4. **Update package dependencies**
   - Ensure compatibility with current React Native and Expo versions
   - Update package.json and install dependencies

## Implementation Plan

### Step 1: Install Dependencies
```bash
npx expo install react-native-safe-area-context
```

### Step 2: Update App Root Layout
- Modify `app/_layout.tsx` to wrap the entire app with SafeAreaProvider
- Import SafeAreaProvider from react-native-safe-area-context
- Ensure the provider wraps all navigation components

### Step 3: Verify Installation
- Check that the package is properly installed
- Verify SafeAreaProvider is correctly wrapping the app
- Test that safe area context is available in child components

### Step 4: Documentation
- Update any relevant documentation about safe area handling
- Note the dependency addition for future reference

## Test Plan

### Objective
Verify that safe area dependencies are properly installed and configured for use throughout the application.

### Test Scope
- Package installation verification
- SafeAreaProvider configuration testing
- Context availability validation

### Key Test Scenarios

1. **Dependency Installation**
   - Verify react-native-safe-area-context is in package.json
   - Confirm package installs without errors
   - Check no conflicting dependencies

2. **SafeAreaProvider Configuration**
   - Confirm SafeAreaProvider wraps the app root
   - Verify no import errors or configuration issues
   - Test that app still loads and navigates properly

3. **Context Availability**
   - Create a simple test to verify useSafeAreaInsets hook works
   - Confirm safe area values are detected on device/simulator
   - Verify context is available in nested components

### Success Criteria
- react-native-safe-area-context successfully installed
- SafeAreaProvider properly configured at app root
- No build errors or runtime issues
- Safe area context accessible throughout the app
- App continues to function normally with new dependency

## Verification

After implementation:
1. ✅ Package appears in package.json dependencies
2. ✅ App builds and runs without errors
3. ✅ SafeAreaProvider is wrapping the main app component
4. ✅ useSafeAreaInsets hook can be imported and used
5. ✅ Safe area values are detected on test devices

## Files Modified

Files that will be modified in this task:
- `package.json` - Add react-native-safe-area-context dependency
- `app/_layout.tsx` - Wrap app with SafeAreaProvider
- Any lock files updated by package installation 